{{ $featured_image := .Params.featured_image }}
{{ $imagePath := "" }}

{{ if $featured_image }}
    {{ $imagePath = printf "%s" $featured_image }}
{{ end }}

<div class="project-card">
    <a href="{{ .Permalink }}" class="project-card-link">
        {{ if $imagePath }}
            <div class="project-image">
                <img src="{{ $imagePath | relURL }}" alt="{{ .Title }} preview">
            </div>
        {{ else }}
            <div class="project-image project-no-image">
                <span>{{ substr .Title 0 1 }}</span>
            </div>
        {{ end }}
        <div class="project-content">
            <h4>{{ .Title }}</h4>
            {{ if .Params.description }}
                <p>{{ .Params.description }}</p>
            {{ else }}
                <p>{{ .Summary | truncate 100 }}</p>
            {{ end }}
            {{ if .Params.tags }}
                <div class="project-tags">
                    {{ range .Params.tags }}
                        <span class="tag">{{ . }}</span>
                    {{ end }}
                </div>
            {{ end }}
        </div>
    </a>
</div>
