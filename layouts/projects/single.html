{{ define "main" }}
    <div class="content">
        <article class="post project-single">
            <header class="post-header">
                <h1 class="post-title">{{ .Title }}</h1>
            </header>

            {{ if .Params.video }}
                <div class="project-video-hero">
                    <video controls width="100%" poster="{{ if .Params.featured_image }}{{ .Params.featured_image | relURL }}{{ end }}" preload="metadata">
                        <source src="{{ .Params.video | relURL }}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </div>
            {{ else if .Params.featured_image }}
                <div class="post-featured-image">
                    <img src="{{ .Params.featured_image | relURL }}" alt="{{ .Title }}">
                </div>
            {{ end }}

            <div class="project-info-section">
                <h2 class="project-info-title">Project Info</h2>
                
                <div class="project-info-grid">
                    {{ if .Params.description }}
                        <div class="project-info-item project-description-item">
                            <span class="info-label">Description:</span>
                            <p class="info-value">{{ .Params.description }}</p>
                        </div>
                    {{ end }}
                    
                    {{ if .Params.role }}
                        <div class="project-info-item">
                            <span class="info-label">Role:</span>
                            <span class="info-value">{{ .Params.role }}</span>
                        </div>
                    {{ end }}

                    {{ if .Params.engine }}
                        <div class="project-info-item">
                            <span class="info-label">Engine:</span>
                            <span class="info-value">{{ .Params.engine }}</span>
                        </div>
                    {{ end }}

                    {{ if .Params.language }}
                        <div class="project-info-item">
                            <span class="info-label">Language:</span>
                            <span class="info-value">{{ .Params.language }}</span>
                        </div>
                    {{ end }}

                    {{ if .Params.company }}
                        <div class="project-info-item">
                            <span class="info-label">Company:</span>
                            <span class="info-value">{{ .Params.company }}</span>
                        </div>
                    {{ end }}

                    {{ if .Params.status }}
                        <div class="project-info-item">
                            <span class="info-label">Status:</span>
                            <span class="info-value">{{ .Params.status }}</span>
                        </div>
                    {{ end }}

                    {{ if .Params.platforms }}
                        <div class="project-info-item">
                            <span class="info-label">Platforms:</span>
                            <span class="info-value">{{ .Params.platforms }}</span>
                        </div>
                    {{ end }}
                </div>
            </div>

            {{ if .Params.links }}
                <div class="project-links-section">
                    <h2 class="project-info-title">Links</h2>
                    <ul class="project-links-list">
                        {{ range .Params.links }}
                            <li><a href="{{ . }}" target="_blank" rel="noopener noreferrer">{{ . }}</a></li>
                        {{ end }}
                    </ul>
                </div>
                </div>
            {{ end }}
            <div class="post-content">
                {{ .Content }}
            </div>
                
            {{ if .Params.gallery }}
                <div class="project-gallery-carousel">
                    <h2>Gallery</h2>
                    <div class="gallery-carousel-container">
                        <div class="gallery-carousel-images">
                            {{ range .Params.gallery }}
                                <img src="{{ . | relURL }}" alt="{{ $.Title }}" class="gallery-carousel-image">
                            {{ end }}
                        </div>
                        <button class="gallery-carousel-prev" aria-label="Previous image">‹</button>
                        <button class="gallery-carousel-next" aria-label="Next image">›</button>
                        <div class="gallery-carousel-dots"></div>
                    </div>
                </div>
            {{ end }}
            </div>
        </article>
    </div>
{{ end }}
